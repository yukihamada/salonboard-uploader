# SalonBoard è‡ªå‹•ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ„ãƒ¼ãƒ«

Playwrightã‚’ä½¿ç”¨ã—ã¦SalonBoardã¸ã®ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚’è‡ªå‹•åŒ–ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

1. [æ©Ÿèƒ½](#æ©Ÿèƒ½)
2. [å¿…è¦ãªç’°å¢ƒ](#å¿…è¦ãªç’°å¢ƒ)
3. [ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
4. [ä½¿ã„æ–¹](#ä½¿ã„æ–¹)
5. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](#ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°)
6. [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ](#ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ)
7. [æ³¨æ„äº‹é …](#æ³¨æ„äº‹é …)
8. [é–‹ç™ºè€…å‘ã‘æƒ…å ±](#é–‹ç™ºè€…å‘ã‘æƒ…å ±)

## æ©Ÿèƒ½

- ğŸ” è‡ªå‹•ãƒ­ã‚°ã‚¤ãƒ³
- ğŸ“¸ FRONT/SIDE/BACK 3æšã®ç”»åƒè‡ªå‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- ğŸ“ ã‚¹ã‚¿ã‚¤ãƒ«æƒ…å ±ã®è‡ªå‹•å…¥åŠ›
- ğŸ–¼ï¸ ã‚¨ãƒ©ãƒ¼æ™‚ã®ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆä¿å­˜
- ğŸ”§ ç’°å¢ƒå¤‰æ•°ã«ã‚ˆã‚‹è¨­å®šç®¡ç†
- ğŸ› ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤ºï¼‰

## å¿…è¦ãªç’°å¢ƒ

- Node.js 18.0.0ä»¥ä¸Š
- npm ã¾ãŸã¯ yarn
- SalonBoardã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±ï¼ˆID/ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼‰

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³

```bash
git clone https://github.com/yukihamada/salonboard-uploader.git
cd salonboard-uploader
```

### 2. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

### 3. Playwrightãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npx playwright install chromium
```

### 4. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

`.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€èªè¨¼æƒ…å ±ã‚’è¨­å®šï¼š

```bash
# .env.local
SB_ID=your_salon_board_id
SB_PASS=your_password

# ç”»åƒãƒ‘ã‚¹ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
IMG_FRONT=./images/front.jpg
IMG_SIDE=./images/side.jpg
IMG_BACK=./images/back.jpg

# ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰
DEBUG=false
```

### 5. ç”»åƒã®æº–å‚™

```bash
# ç”»åƒãƒ•ã‚©ãƒ«ãƒ€ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’é…ç½®
cp /path/to/your/front.jpg ./images/
cp /path/to/your/side.jpg ./images/
cp /path/to/your/back.jpg ./images/
```

ã¾ãŸã¯ã€ã‚µãƒ³ãƒ—ãƒ«ç”»åƒã‚’è‡ªå‹•ç”Ÿæˆï¼š

```bash
node create_real_images.js
```

## ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

#### 1. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆãƒ­ã‚°ã‚¤ãƒ³ã®ã¿ï¼‰

ã¾ãšãƒ­ã‚°ã‚¤ãƒ³ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã‹ç¢ºèªï¼š

```bash
npm test
```

#### 2. æœ¬ç•ªå®Ÿè¡Œï¼ˆç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰

```bash
npm start
```

#### 3. ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ï¼ˆãƒ–ãƒ©ã‚¦ã‚¶è¡¨ç¤ºï¼‰

å‹•ä½œã‚’ç›®è¦–ã§ç¢ºèªã—ãŸã„å ´åˆï¼š

```bash
npm run debug
# ã¾ãŸã¯
DEBUG=true npm start
```

### é«˜åº¦ãªä½¿ã„æ–¹

#### ã‚·ãƒ³ãƒ—ãƒ«ç‰ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œ

ã‚ˆã‚Šå®‰å®šã—ãŸå‹•ä½œãŒå¿…è¦ãªå ´åˆï¼š

```bash
node sb_upload_simple.js
```

#### ç”»åƒä»˜ãã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å®Ÿè¡Œ

```bash
node upload_with_images.js
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ğŸ”´ èªè¨¼ã‚¨ãƒ©ãƒ¼ã€Œèªè¨¼ã‚¨ãƒ©ãƒ¼ã§ã™ã€‚ãƒ­ã‚°ã‚¤ãƒ³ã—ãªãŠã—ã¦ãã ã•ã„ã€‚ã€

**åŸå› ã¨å¯¾å‡¦æ³•ï¼š**

1. **ã‚»ãƒƒã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ**
   - SalonBoardã¯ä¸€å®šæ™‚é–“ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒåˆ‡ã‚Œã¾ã™
   - è§£æ±ºç­–ï¼šã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å†å®Ÿè¡Œ

2. **å¤šé‡ãƒ­ã‚°ã‚¤ãƒ³åˆ¶é™**
   - åŒä¸€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§è¤‡æ•°ç®‡æ‰€ã‹ã‚‰ãƒ­ã‚°ã‚¤ãƒ³ã—ã¦ã„ã‚‹
   - è§£æ±ºç­–ï¼šä»–ã®ãƒ–ãƒ©ã‚¦ã‚¶/ãƒ‡ãƒã‚¤ã‚¹ã§ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ

3. **ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ­ãƒƒã‚¯**
   - çŸ­æ™‚é–“ã«è¤‡æ•°å›ãƒ­ã‚°ã‚¤ãƒ³ã‚’è©¦ã¿ãŸ
   - è§£æ±ºç­–ï¼š5-10åˆ†å¾…ã£ã¦ã‹ã‚‰å†å®Ÿè¡Œ

4. **èªè¨¼æƒ…å ±ã®èª¤ã‚Š**
   ```bash
   # .env.localã‚’ç¢ºèª
   cat .env.local
   
   # æ‰‹å‹•ã§ãƒ­ã‚°ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆ
   DEBUG=true npm test
   ```

### ğŸ”´ ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã‚¨ãƒ©ãƒ¼

**å¯¾å‡¦æ³•ï¼š**

1. ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚é–“ã‚’å»¶é•·
   ```javascript
   // sb_upload.js ã® CONFIG ã‚’ç·¨é›†
   TIMEOUT: {
     DEFAULT: 60000,  // 60ç§’ã«å»¶é•·
     UPLOAD: 120000   // 120ç§’ã«å»¶é•·
   }
   ```

2. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯æ¥ç¶šã‚’ç¢ºèª
   ```bash
   ping salonboard.com
   ```

3. ã‚ˆã‚Šå®‰å®šã—ãŸãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã§å®Ÿè¡Œ

### ğŸ”´ è¦ç´ ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‚¨ãƒ©ãƒ¼

**å¯¾å‡¦æ³•ï¼š**

1. ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§å®Ÿéš›ã®ç”»é¢ã‚’ç¢ºèª
   ```bash
   DEBUG=true npm start
   ```

2. ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’ç¢ºèª
   ```bash
   ls -la *.png
   open error-*.png  # macOS
   ```

3. ã‚»ãƒ¬ã‚¯ã‚¿ã‚’èª¿æ•´ï¼ˆé–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ç¢ºèªï¼‰

### ğŸ”´ ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå¤±æ•—ã™ã‚‹

**å¯¾å‡¦æ³•ï¼š**

1. ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
   ```bash
   ls -la images/
   file images/*.jpg
   ```

2. ç”»åƒã‚µã‚¤ã‚ºã‚’ç¢ºèªï¼ˆæ¨å¥¨: 5MBä»¥ä¸‹ï¼‰
   ```bash
   du -h images/*.jpg
   ```

3. ç”»åƒå½¢å¼ã‚’ç¢ºèªï¼ˆJPEGæ¨å¥¨ï¼‰

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
salonboard-uploader/
â”œâ”€â”€ sb_upload.js           # ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆå®Œå…¨ç‰ˆï¼‰
â”œâ”€â”€ sb_upload_simple.js    # ã‚·ãƒ³ãƒ—ãƒ«ç‰ˆï¼ˆå®‰å®šå‹•ä½œå„ªå…ˆï¼‰
â”œâ”€â”€ upload_with_images.js  # ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç‰¹åŒ–ç‰ˆ
â”œâ”€â”€ test_upload.js         # ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ create_real_images.js  # ã‚µãƒ³ãƒ—ãƒ«ç”»åƒç”Ÿæˆ
â”œâ”€â”€ .env.local            # ç’°å¢ƒå¤‰æ•°ï¼ˆGitç®¡ç†å¤–ï¼‰
â”œâ”€â”€ .gitignore            # Gité™¤å¤–è¨­å®š
â”œâ”€â”€ package.json          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
â”œâ”€â”€ README.md             # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ images/               # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç”»åƒãƒ•ã‚©ãƒ«ãƒ€
    â”œâ”€â”€ front.jpg         # æ­£é¢ç”»åƒ
    â”œâ”€â”€ side.jpg          # æ¨ªç”»åƒ
    â””â”€â”€ back.jpg          # å¾Œã‚ç”»åƒ
```

## æ³¨æ„äº‹é …

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

- âš ï¸ `.env.local` ãƒ•ã‚¡ã‚¤ãƒ«ã¯çµ¶å¯¾ã«Gitã«ã‚³ãƒŸãƒƒãƒˆã—ãªã„
- âš ï¸ èªè¨¼æƒ…å ±ã¯å®‰å…¨ã«ç®¡ç†ã™ã‚‹
- âš ï¸ å…¬é–‹ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚ãªã„

### ä½¿ç”¨ä¸Šã®æ³¨æ„

- ğŸš« çŸ­æ™‚é–“ã«å¤§é‡ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‰ãªã„ï¼ˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ­ãƒƒã‚¯ã®å¯èƒ½æ€§ï¼‰
- ğŸš« å–¶æ¥­æ™‚é–“å¤–ã®æ·±å¤œæ—©æœã®ä½¿ç”¨ã¯é¿ã‘ã‚‹
- âœ… ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ååˆ†ã«å‹•ä½œç¢ºèªã—ã¦ã‹ã‚‰æœ¬ç•ªåˆ©ç”¨
- âœ… ã‚¨ãƒ©ãƒ¼æ™‚ã¯ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’ç¢ºèª

### æœ¬ç•ªç’°å¢ƒã§ã®ä½¿ç”¨

1. å¿…ãšäº‹å‰ã«ãƒ†ã‚¹ãƒˆç’°å¢ƒã§ç¢ºèª
2. ç”»åƒã¯é©åˆ‡ãªã‚µã‚¤ã‚ºãƒ»å½¢å¼ã§æº–å‚™
3. ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãŒå®‰å®šã—ãŸç’°å¢ƒã§å®Ÿè¡Œ
4. ã‚¨ãƒ©ãƒ¼æ™‚ã®å¯¾å‡¦æ–¹æ³•ã‚’ç†è§£ã—ã¦ã‹ã‚‰ä½¿ç”¨

## é–‹ç™ºè€…å‘ã‘æƒ…å ±

### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•

#### 1. ã‚»ãƒ¬ã‚¯ã‚¿ã®å¤‰æ›´

SalonBoardã®UIãŒå¤‰æ›´ã•ã‚ŒãŸå ´åˆã€ã‚»ãƒ¬ã‚¯ã‚¿ã‚’æ›´æ–°ï¼š

```javascript
// sb_upload.js
// ãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã®ã‚»ãƒ¬ã‚¯ã‚¿ã‚’å¤‰æ›´
const buttons = await this.page.$$('æ–°ã—ã„ã‚»ãƒ¬ã‚¯ã‚¿');
```

#### 2. è¿½åŠ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å…¥åŠ›

```javascript
// ã‚¹ã‚¿ã‚¤ãƒ«æƒ…å ±ã«æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ 
await uploader.fillStyleInfo({
  styleName: 'ã‚¹ã‚¿ã‚¤ãƒ«å',
  category: 'ã‚«ãƒ†ã‚´ãƒª',
  description: 'èª¬æ˜',
  tags: ['ã‚¿ã‚°1', 'ã‚¿ã‚°2'],
  // æ–°ã—ã„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’è¿½åŠ 
  price: '5000å††'
});
```

#### 3. å¾…æ©Ÿæ™‚é–“ã®èª¿æ•´

```javascript
// ç’°å¢ƒã«å¿œã˜ã¦èª¿æ•´
await page.waitForTimeout(5000); // 5ç§’å¾…æ©Ÿ
```

### ãƒ‡ãƒãƒƒã‚°æ–¹æ³•

1. **ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã®è¿½åŠ **
   ```javascript
   console.log('ç¾åœ¨ã®URL:', page.url());
   console.log('ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«:', await page.title());
   ```

2. **è¦ç´ ã®å­˜åœ¨ç¢ºèª**
   ```javascript
   const element = await page.$('ã‚»ãƒ¬ã‚¯ã‚¿');
   if (element) {
     console.log('è¦ç´ ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸ');
   }
   ```

3. **ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ãƒ­ã‚°ã®ç›£è¦–**
   ```javascript
   page.on('response', response => {
     console.log('Response:', response.url(), response.status());
   });
   ```

### è²¢çŒ®æ–¹æ³•

1. Issueã§å•é¡Œã‚’å ±å‘Š
2. Pull Requestã§æ”¹å–„ã‚’ææ¡ˆ
3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ”¹å–„

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## ã‚µãƒãƒ¼ãƒˆ

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

1. ã“ã®READMEã®ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ç¢ºèª
2. [Issues](https://github.com/yukihamada/salonboard-uploader/issues)ã§æ—¢çŸ¥ã®å•é¡Œã‚’æ¤œç´¢
3. æ–°ã—ã„Issueã‚’ä½œæˆï¼ˆã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’å«ã‚ã‚‹ï¼‰

---

Made with â¤ï¸ by [yukihamada](https://github.com/yukihamada)